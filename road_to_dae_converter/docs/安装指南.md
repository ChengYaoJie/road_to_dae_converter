# XODR到DAE转换器 安装指南

本指南将帮助您设置XODR到DAE转换器的开发环境并安装所需的依赖项。

## 目录

- [系统要求](#系统要求)
- [安装步骤](#安装步骤)
- [验证安装](#验证安装)
- [常见问题](#常见问题)

## 系统要求

- **操作系统**: Windows 10/11, macOS 10.14+, Linux (Ubuntu 18.04+)
- **Python版本**: Python 3.8 或更高版本
- **内存**: 至少4GB RAM (复杂道路网络可能需要更多)
- **磁盘空间**: 至少500MB可用空间

## 安装步骤

### 1. 克隆代码仓库

首先，克隆代码仓库到本地：

```bash
# 使用Git克隆仓库
git clone https://your-repository-url/road_to_dae_converter.git

# 进入项目目录
cd road_to_dae_converter
```

如果您没有Git，可以直接下载项目的ZIP文件并解压。

### 2. 创建虚拟环境（推荐）

为了避免依赖冲突，强烈建议在虚拟环境中安装依赖项：

#### 在Windows上:

```powershell
# 创建虚拟环境
python -m venv venv

# 激活虚拟环境
venv\Scripts\activate
```

#### 在macOS/Linux上:

```bash
# 创建虚拟环境
python3 -m venv venv

# 激活虚拟环境
source venv/bin/activate
```

### 3. 安装依赖项

项目使用Python标准库构建，不依赖外部第三方库。但为了开发和测试，我们提供了一个requirements.txt文件，其中包含了开发所需的依赖项。

```bash
# 安装开发依赖
pip install -r requirements.txt
```

### 4. 项目结构

安装完成后，您的项目结构应该如下所示：

```
road_to_dae_converter/
├── src/                # 源代码目录
│   ├── parsers/        # 解析器模块
│   ├── generators/     # 生成器模块
│   ├── models/         # 数据模型
│   └── main.py         # 主入口
├── tests/              # 测试文件
├── examples/           # 使用示例
├── docs/               # 文档
├── requirements.txt    # 依赖项清单
└── README.md           # 项目说明
```

## 验证安装

安装完成后，您可以运行测试来验证安装是否成功：

```bash
# 运行测试
python -m tests.test_conversion
```

如果所有测试都通过，说明安装成功！

您还可以尝试运行验证脚本：

```bash
# 运行验证脚本
python -m tests.verify_conversion --xodr-file path/to/your.xodr --output output.dae
```

## 常见问题

### 问题1: Python版本不兼容

**症状**: 安装依赖时出现错误或运行脚本失败。

**解决方案**: 确保您使用的是Python 3.8或更高版本。您可以使用以下命令检查Python版本：

```bash
python --version
```

如果版本过低，建议安装较新版本的Python。

### 问题2: 虚拟环境激活失败

**Windows症状**: 运行`venv\Scripts\activate`时出现权限错误。

**Windows解决方案**: 以管理员身份运行PowerShell，或者在PowerShell中执行以下命令启用脚本执行：

```powershell
Set-ExecutionPolicy -ExecutionPolicy RemoteSigned -Scope CurrentUser
```

**macOS/Linux症状**: 运行`source venv/bin/activate`时找不到文件。

**macOS/Linux解决方案**: 检查虚拟环境是否正确创建，路径是否正确。

### 问题3: 测试失败

**症状**: 运行测试时出现错误。

**解决方案**:

1. 确保所有依赖项都已正确安装
2. 检查是否有足够的系统资源（内存、磁盘空间）
3. 查看错误消息，根据具体错误进行排查

### 问题4: 找不到模块

**症状**: 运行脚本时出现`ModuleNotFoundError`。

**解决方案**:

1. 确保您在正确的项目目录中
2. 检查Python路径是否包含项目根目录
3. 您可以尝试通过以下方式添加项目路径：

```python
import sys
sys.path.append('/path/to/road_to_dae_converter')
```

## 卸载

如果您想卸载项目，只需删除项目目录即可：

```bash
# 在Windows上
rmdir /s /q road_to_dae_converter

# 在macOS/Linux上
rm -rf road_to_dae_converter
```

## 联系支持

如果您在安装过程中遇到任何问题，请参考项目文档或联系项目维护者。

---

*祝您使用愉快！*